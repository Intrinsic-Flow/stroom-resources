# Here for debugging
#* * * * * echo "${DATAFEED_URL}Cron running" >> /stroom-log-sender/cron.out

# For details on the format of this crontab see
# https://github.com/aptible/supercronic or https://github.com/gorhill/cronexpr
# (on which supercronci is based).

# NOTE: Any changes to this crontab.txt file will require the container
# to be restarted, as on boot, the container will load this file into supercronic

## stroom logs
* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom/access STROOM-ACCESS-EVENTS STROOM ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom/extra_headers.txt

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom/app    STROOM-APP-EVENTS    STROOM ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom/extra_headers.txt

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom/user   STROOM-USER-EVENTS   STROOM ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom/extra_headers.txt


## stroom-auth logs
* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-auth/access STROOM_AUTH-ACCESS-EVENTS STROOM-AUTH ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-auth/extra_headers.txt 

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-auth/app    STROOM_AUTH-APP-EVENTS    STROOM-AUTH ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-auth/extra_headers.txt 

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-auth/user   STROOM_AUTH-USER-EVENTS   STROOM-AUTH ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-auth/extra_headers.txt 


# stroom-proxy logs
* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-proxy/access  STROOM_PROXY-ACCESS-EVENTS  STROOM-PROXY ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-proxy/extra_headers.txt 

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-proxy/app     STROOM_PROXY-APP-EVENTS     STROOM-PROXY ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-proxy/extra_headers.txt 

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-proxy/send    STROOM_PROXY-SEND-EVENTS    STROOM-PROXY ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-proxy/extra_headers.txt 

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-proxy/receive STROOM_PROXY-RECEIVE-EVENTS STROOM-PROXY ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${DEFAULT_FILE_REGEX}" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-proxy/extra_headers.txt 


# stroom-nginx logs
* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-nginx/access STROOM_NGINX-ACCESS-EVENTS STROOM-NGINX ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${LOGROTATE_DATED_REGEX}/stroom-nginx" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-nginx/extra_headers.txt 

* * * * * ${LOG_SENDER_SCRIPT} ${LOGS_DIR}/stroom-nginx/app    STROOM_NGINX-APP-EVENTS    STROOM-NGINX ${ENVIRONMENT} ${DATAFEED_URL} --file-regex "${LOGROTATE_DATED_REGEX}/stroom-nginx" -m ${MAX_DELAY_SECS} --key ${PRIVATE_KEY_FILE} --cert ${CERT_FILE} --cacert ${CA_CERT_FILE} --delete-after-sending --no-secure --compress --headers ${LOGS_DIR}/stroom-nginx/extra_headers.txt 
