#Stroom v6 full docker environment

#Prevents bouceIt.sh from checking the /etc/hosts file as the hosts
#entries are not needed for this stack
REQUIRE_HOSTS_FILE_CHECK=false

#Services to start
SERVICE_LIST=""
SERVICE_LIST="${SERVICE_LIST} elasticsearch"
SERVICE_LIST="${SERVICE_LIST} fake-smtp"
SERVICE_LIST="${SERVICE_LIST} hbase"
SERVICE_LIST="${SERVICE_LIST} kafka"
SERVICE_LIST="${SERVICE_LIST} kibana"
SERVICE_LIST="${SERVICE_LIST} nginx"
SERVICE_LIST="${SERVICE_LIST} stroom"
SERVICE_LIST="${SERVICE_LIST} stroom-annotations-db"
SERVICE_LIST="${SERVICE_LIST} stroom-annotations-service"
SERVICE_LIST="${SERVICE_LIST} stroom-annotations-ui"
SERVICE_LIST="${SERVICE_LIST} stroom-auth-service"
SERVICE_LIST="${SERVICE_LIST} stroom-auth-service-db"
SERVICE_LIST="${SERVICE_LIST} stroom-auth-ui"
SERVICE_LIST="${SERVICE_LIST} stroom-db"
SERVICE_LIST="${SERVICE_LIST} stroom-query-elastic-service"
SERVICE_LIST="${SERVICE_LIST} stroom-query-elastic-ui"
SERVICE_LIST="${SERVICE_LIST} stroom-stats"
SERVICE_LIST="${SERVICE_LIST} stroom-stats-db"
SERVICE_LIST="${SERVICE_LIST} zookeeper"

#Docker tags
STROOM_ANNOTATIONS_SERVICE_TAG=v0.2.0-alpha.2
STROOM_ANNOTATIONS_UI_TAG=v0.2.0-alpha.2
STROOM_AUTH_SERVICE_TAG=v0.1-LATEST
STROOM_AUTH_UI_TAG=v0.1-LATEST
STROOM_ELASTIC_SERVICE_TAG=v0.0.3-alpha.2
STROOM_ELASTIC_UI_TAG=v0.0.3-alpha.2
#TODO -stats needs updating once we have a released image
STROOM_STATS_TAG=master-SNAPSHOT
STROOM_TAG=v6-LATEST


STROOM_ELASTIC_SERVICE_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_ELASTIC_UI_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
ELASTIC_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
ELASTIC_PORT=9300
HBASE_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
KAFKA_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}

# NGINX
NGINX_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
# If this is on your browser will need to supply a valid client certificate
NGINX_SSL_VERIFY_CLIENT=off
NGINX_SSL_CERTIFICATE=server.pem.crt
NGINX_SSL_CERTIFICATE_KEY=server.unencrypted.key
NGINX_SSL_CLIENT_CERTIFICATE=ca.pem.crt

# ANNOTATIONS
STROOM_ANNOTATIONS_DB_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_ANNOTATIONS_DB_PORT=3310
STROOM_ANNOTATIONS_UI_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}

# AUTH SERVICE
STROOM_AUTH_DB_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_AUTH_DB_PORT=3309
STROOM_AUTH_SERVICE_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}

# AUTH UI
STROOM_AUTH_UI_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
# These two ports configure NGINXs HTTP and HTTP ports
STROOM_AUTH_UI_HTTP_PORT=5000
STROOM_AUTH_UI_HTTPS_PORT=9443
# The following two environment variables configure whether we want to talk to 
# the auth UI using HTTPS or HTTP. If changed the corresponding port also needs changing.
STROOM_AUTH_UI_ACTIVE_SCHEME=https
STROOM_AUTH_UI_ACTIVE_PORT=${STROOM_AUTH_UI_HTTPS_PORT}
STROOM_AUTH_UI_URL=${STROOM_AUTH_UI_ACTIVE_SCHEME}://${STROOM_AUTH_UI_HOST}:${STROOM_AUTH_UI_ACTIVE_PORT}
STROOM_AUTH_UI_SSL_CERTIFICATE=${NGINX_SSL_CERTIFICATE}
STROOM_AUTH_UI_SSL_CERTIFICATE_KEY=${NGINX_SSL_CERTIFICATE_KEY}
STROOM_AUTH_UI_SSL_CLIENT_CERTIFICATE=${NGINX_SSL_CLIENT_CERTIFICATE}

# STROOM
STROOM_DEVELOPMENT_MODE=false
STROOM_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_AUTHORISATION_SERVICE_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_DB_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_DB_PORT=3307

# STROOM STATS
STROOM_STATS_DB_HOST=${STROOM_RESOURCES_ADVERTISED_HOST}
STROOM_STATS_DB_PORT=3308